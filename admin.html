<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Administrativo - Bemorh</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Estilos Gerais COMPARTILHADOS */
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --success: #2ecc71;
            --warning: #f39c12;
            --gray: #95a5a6;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f9f9f9;
            color: #333;
            line-height: 1.6;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .btn {
            display: inline-block;
            padding: 14px 28px;
            background-color: var(--secondary);
            color: white;
            border-radius: 4px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: var(--transition);
        }

        .btn:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .btn-danger {
            background-color: var(--accent);
        }

        .btn-success {
            background-color: var(--success);
        }

        .btn-warning {
            background-color: var(--warning);
        }

        .btn-contact {
            background-color: var(--success);
        }

        /* Header - LOGO ATUALIZADO */
        header {
            background-color: white;
            box-shadow: var(--shadow);
            position: relative;
            width: 100%;
            z-index: 1000;
            margin-bottom: 30px;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 20px;
            cursor: pointer;
            transition: var(--transition);
        }

        .logo-container:hover {
            transform: translateY(-2px);
        }

        .logo-placeholder {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            box-shadow: var(--shadow);
            background-color: white;
            flex-shrink: 0;
        }

        .logo-placeholder img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 5px;
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo-main {
            font-size: 2.2rem;
            font-weight: 800;
            color: var(--primary);
            letter-spacing: 1px;
        }

        .logo-tagline {
            font-size: 0.95rem;
            color: var(--secondary);
            font-style: italic;
            margin-top: -5px;
        }

        .logout-btn {
            background-color: rgba(231, 76, 60, 0.2);
            color: var(--accent);
            border: none;
            padding: 12px 24px;
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
            margin-left: 10px;
            font-weight: 600;
        }

        .logout-btn:hover {
            background-color: rgba(231, 76, 60, 0.3);
            transform: translateY(-2px);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background-color: white;
            width: 100%;
            max-width: 800px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            animation: slideIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-header {
            background-color: var(--primary);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            font-size: 1.5rem;
        }

        .close-modal {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .close-modal:hover {
            transform: scale(1.2);
        }

        .modal-body {
            padding: 30px;
            max-height: 70vh;
            overflow-y: auto;
        }

        /* Formulários */
        .form-container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: var(--shadow);
            max-width: 800px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary);
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }

        .form-control-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .password-input {
            position: relative;
        }

        .toggle-password {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--gray);
            cursor: pointer;
        }

        .alert {
            padding: 12px;
            border-radius: 4px;
            margin-bottom: 20px;
            display: none;
        }

        .alert-danger {
            background-color: rgba(231, 76, 60, 0.1);
            color: var(--accent);
            border-left: 4px solid var(--accent);
        }

        .alert-success {
            background-color: rgba(46, 204, 113, 0.1);
            color: var(--success);
            border-left: 4px solid var(--success);
        }

        /* Área Administrativa */
        .admin-content {
            padding-top: 20px;
        }

        .admin-header {
            background-color: var(--primary);
            color: white;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background-color: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: var(--shadow);
            text-align: center;
            transition: var(--transition);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .stat-card i {
            font-size: 2.8rem;
            color: var(--secondary);
            margin-bottom: 15px;
        }

        .stat-card h3 {
            font-size: 2.2rem;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .admin-tabs {
            display: flex;
            border-bottom: 2px solid #eee;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .admin-tab {
            padding: 15px 30px;
            background: none;
            border: none;
            font-weight: 600;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: var(--transition);
            color: var(--gray);
        }

        .admin-tab:hover {
            color: var(--secondary);
        }

        .admin-tab.active {
            border-bottom: 3px solid var(--secondary);
            color: var(--secondary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        table {
            width: 100%;
            background-color: white;
            border-collapse: collapse;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        th {
            background-color: var(--light);
            color: var(--primary);
            font-weight: 600;
        }

        tr:hover {
            background-color: #f9f9f9;
        }

        .actions {
            display: flex;
            gap: 8px;
        }

        .action-btn {
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 0.85rem;
            cursor: pointer;
            border: none;
            color: white;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .edit-btn {
            background-color: var(--secondary);
        }

        .delete-btn {
            background-color: var(--accent);
        }

        .view-btn {
            background-color: var(--success);
        }

        /* Project Image Preview */
        .image-preview-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
        }

        .image-preview {
            width: 120px;
            height: 120px;
            border-radius: 8px;
            overflow: hidden;
            border: 2px solid #eee;
            position: relative;
            transition: var(--transition);
        }

        .image-preview:hover {
            transform: scale(1.05);
            border-color: var(--secondary);
        }

        .image-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .remove-image {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: rgba(231, 76, 60, 0.9);
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            transition: var(--transition);
        }

        .remove-image:hover {
            background-color: var(--accent);
            transform: scale(1.1);
        }

        /* Footer */
        footer {
            background-color: var(--primary);
            color: white;
            padding: 30px 0;
            margin-top: 50px;
        }

        .copyright {
            text-align: center;
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* Responsividade */
        @media (max-width: 992px) {
            .header-container {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .logo-container {
                justify-content: center;
            }
            
            .admin-header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
        }

        @media (max-width: 768px) {
            .admin-tabs {
                flex-wrap: wrap;
            }
            
            .admin-tab {
                padding: 12px 20px;
                font-size: 0.9rem;
            }

            table {
                display: block;
                overflow-x: auto;
            }
            
            .actions {
                flex-direction: column;
                gap: 5px;
            }
            
            .action-btn {
                width: 100%;
                justify-content: center;
            }
        }

        @media (max-width: 576px) {
            .logo-main {
                font-size: 1.8rem;
            }
            
            .logo-placeholder {
                width: 50px;
                height: 50px;
            }
            
            .stat-card {
                padding: 20px;
            }
            
            .stat-card i {
                font-size: 2.2rem;
            }
            
            .stat-card h3 {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header Admin -->
    <header>
        <div class="container">
            <nav class="navbar">
                <div class="logo-container" id="logoHome">
                    <div class="logo-placeholder">
                        <img src="imagem.png" alt="Bemorh Logo" id="logoImage" onerror="handleLogoError(this)">
                        <div id="logoText" style="display: none; width: 100%; height: 100%; background: linear-gradient(135deg, var(--secondary), var(--primary)); color: white; font-weight: bold; font-size: 1.5rem; display: flex; align-items: center; justify-content: center;">
                            BH
                        </div>
                    </div>
                    <div class="logo-text">
                        <div class="logo-main">Bemorh</div>
                        <div class="logo-tagline">Painel Administrativo</div>
                    </div>
                </div>
                
                <div style="display: flex; gap: 10px;">
                    <button class="btn" id="backToSiteBtn">
                        <i class="fas fa-globe"></i> Voltar ao Site
                    </button>
                    <button class="logout-btn" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i> Sair
                    </button>
                </div>
            </nav>
        </div>
    </header>

    <!-- Modal de Alterar Logo -->
    <div class="modal" id="changeLogoModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-image"></i> Alterar Logo da Empresa</h3>
                <button class="close-modal" id="closeLogoModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="alert alert-success" id="logoSuccess" style="display: none;">
                    <i class="fas fa-check-circle"></i> Logo alterada com sucesso!
                </div>
                <div class="alert alert-danger" id="logoError" style="display: none;">
                    <i class="fas fa-exclamation-circle"></i> Erro ao processar a imagem!
                </div>
                
                <div style="text-align: center; margin-bottom: 20px;">
                    <div id="logoPreview" style="width: 200px; height: 200px; margin: 0 auto 20px; border: 2px dashed var(--gray); border-radius: 10px; display: flex; align-items: center; justify-content: center; overflow: hidden; background-color: white;">
                        <img src="imagem.png" alt="Prévia da Logo" id="previewImage" style="max-width: 100%; max-height: 100%; object-fit: contain; padding: 10px;">
                        <div id="noLogoText" style="display: none; color: var(--gray); font-weight: bold;">
                            Sem Logo
                        </div>
                    </div>
                    <p style="color: var(--gray); font-size: 0.9rem;">
                        Dimensões recomendadas: 200×200 pixels<br>
                        Formatos: PNG, JPG, SVG
                    </p>
                </div>
                
                <form id="changeLogoForm">
                    <div class="form-group">
                        <label for="logoFile">Selecione uma nova imagem:</label>
                        <input type="file" id="logoFile" class="form-control" accept=".png,.jpg,.jpeg,.svg,.gif">
                    </div>
                    <div class="form-group">
                        <label for="logoUrl">Ou insira a URL da imagem:</label>
                        <input type="url" id="logoUrl" class="form-control" placeholder="https://exemplo.com/logo.png">
                    </div>
                    <div style="display: flex; gap: 10px; margin-top: 20px;">
                        <button type="button" class="btn btn-warning" id="resetLogoBtn" style="flex: 1;">
                            <i class="fas fa-undo"></i> Restaurar Original
                        </button>
                        <button type="submit" class="btn btn-success" style="flex: 2;">
                            <i class="fas fa-save"></i> Salvar Nova Logo
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal de Gerenciar Projetos do Site -->
    <div class="modal" id="manageSiteProjectsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-edit"></i> Gerenciar Projetos do Site Principal</h3>
                <button class="close-modal" id="closeManageProjectsModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="alert alert-success" id="projectSuccess" style="display: none;">
                    <i class="fas fa-check-circle"></i> Projeto salvo com sucesso!
                </div>
                <div class="alert alert-danger" id="projectError" style="display: none;">
                    <i class="fas fa-exclamation-circle"></i> Erro ao salvar projeto!
                </div>
                
                <form id="siteProjectForm">
                    <input type="hidden" id="projectId" value="">
                    
                    <div class="form-group">
                        <label for="projectTitle">Título do Projeto *</label>
                        <input type="text" id="projectTitle" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="projectDescription">Descrição do Projeto *</label>
                        <textarea id="projectDescription" class="form-control form-control-textarea" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="projectCategory">Categoria *</label>
                        <select id="projectCategory" class="form-control" required>
                            <option value="web">Desenvolvimento Web</option>
                            <option value="mobile">Apps Mobile</option>
                            <option value="design">UI/UX Design</option>
                            <option value="consulting">Consultoria</option>
                            <option value="innovation">Inovação</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="projectImages">Imagens do Projeto</label>
                        <div class="image-preview-container" id="projectImagesPreview">
                            <!-- As prévias das imagens serão inseridas aqui -->
                        </div>
                        <input type="file" id="projectImages" class="form-control" accept=".png,.jpg,.jpeg,.gif" multiple>
                        <small style="color: var(--gray);">Você pode selecionar múltiplas imagens</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="projectFeatures">Características (separadas por vírgula)</label>
                        <input type="text" id="projectFeatures" class="form-control" placeholder="ex: Design Responsivo, SEO Otimizado, API Integrada">
                    </div>
                    
                    <div class="form-group">
                        <label for="projectLink">Link do Projeto (opcional)</label>
                        <input type="url" id="projectLink" class="form-control" placeholder="https://exemplo.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="projectStatus">Status de Exibição</label>
                        <select id="projectStatus" class="form-control">
                            <option value="active">Ativo (aparece no site)</option>
                            <option value="inactive">Inativo (não aparece no site)</option>
                        </select>
                    </div>
                    
                    <div style="display: flex; gap: 10px; margin-top: 20px;">
                        <button type="button" class="btn btn-warning" id="cancelProjectBtn" style="flex: 1;">
                            <i class="fas fa-times"></i> Cancelar
                        </button>
                        <button type="submit" class="btn btn-success" style="flex: 2;">
                            <i class="fas fa-save"></i> Salvar Projeto
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Conteúdo Administrativo -->
    <div class="admin-content">
        <div class="container">
            <!-- Botões de Gerenciamento -->
            <div style="display: flex; gap: 15px; margin-bottom: 30px; flex-wrap: wrap; justify-content: center;">
                <button class="btn btn-warning" id="changeLogoBtn">
                    <i class="fas fa-image"></i> Alterar Logo da Empresa
                </button>
                <button class="btn btn-success" id="manageSiteProjectsBtn">
                    <i class="fas fa-edit"></i> Gerenciar Projetos do Site
                </button>
            </div>

            <!-- Estatísticas -->
            <div class="admin-stats">
                <div class="stat-card">
                    <i class="fas fa-project-diagram"></i>
                    <h3 id="projectCount">0</h3>
                    <p>Projetos Ativos</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-users"></i>
                    <h3 id="clientCount">0</h3>
                    <p>Clientes Ativos</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-dollar-sign"></i>
                    <h3>R$ 0,00</h3>
                    <p>Faturamento Mensal</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-tasks"></i>
                    <h3 id="taskCount">0%</h3>
                    <p>Projetos no Prazo</p>
                </div>
            </div>

            <!-- Abas de Administração -->
            <div class="admin-tabs">
                <button class="admin-tab active" data-tab="projects-tab">Projetos</button>
                <button class="admin-tab" data-tab="clients-tab">Clientes</button>
                <button class="admin-tab" data-tab="team-tab">Equipe</button>
                <button class="admin-tab" data-tab="settings-tab">Configurações</button>
                <button class="admin-tab" data-tab="site-projects-tab">Projetos do Site</button>
            </div>

            <!-- Conteúdo das Abas -->
            <div class="tab-content active" id="projects-tab">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2>Gerenciamento de Projetos</h2>
                    <button class="btn" id="addProjectBtn"><i class="fas fa-plus"></i> Novo Projeto</button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Nome do Projeto</th>
                            <th>Cliente</th>
                            <th>Status</th>
                            <th>Prazo</th>
                            <th>Orçamento</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody id="projectsTable">
                        <!-- Projetos serão inseridos aqui via JavaScript -->
                    </tbody>
                </table>
            </div>

            <div class="tab-content" id="clients-tab">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2>Gerenciamento de Clientes</h2>
                    <button class="btn" id="addClientBtn"><i class="fas fa-plus"></i> Novo Cliente</button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>Empresa</th>
                            <th>Email</th>
                            <th>Telefone</th>
                            <th>Projetos</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody id="clientsTable">
                        <!-- Clientes serão inseridos aqui via JavaScript -->
                    </tbody>
                </table>
            </div>

            <div class="tab-content" id="team-tab">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2>Gerenciamento de Equipe</h2>
                    <button class="btn" id="addMemberBtn"><i class="fas fa-plus"></i> Novo Membro</button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>Cargo</th>
                            <th>Email</th>
                            <th>Telefone</th>
                            <th>Projetos</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody id="teamTable">
                        <!-- Equipe será inserida aqui via JavaScript -->
                    </tbody>
                </table>
            </div>

            <div class="tab-content" id="settings-tab">
                <h2>Configurações da Empresa</h2>
                <div class="form-container">
                    <form id="companySettings">
                        <div class="form-group">
                            <label for="companyName">Nome da Empresa</label>
                            <input type="text" id="companyName" class="form-control" value="Bemorh">
                        </div>
                        <div class="form-group">
                            <label for="companyTagline">Frase de Efeito</label>
                            <input type="text" id="companyTagline" class="form-control" value="tecnologia que conecta ideias">
                        </div>
                        <div class="form-group">
                            <label for="companyEmail">Email de Contato</label>
                            <input type="email" id="companyEmail" class="form-control" value="contato@bemorh.com.br">
                        </div>
                        <div class="form-group">
                            <label for="companyPhone">Telefone</label>
                            <input type="text" id="companyPhone" class="form-control" value="(11) 3456-7890">
                        </div>
                        <div class="form-group">
                            <label for="companyAddress">Endereço</label>
                            <input type="text" id="companyAddress" class="form-control" value="Av. das Inovações, 123 - Centro de Tecnologia, São Paulo - SP">
                        </div>
                        <div class="form-group">
                            <label for="companyAbout">Sobre a Empresa</label>
                            <textarea id="companyAbout" class="form-control" rows="5">A Bemorh nasceu da crença de que as melhores soluções surgem da conexão de ideias. Somos uma empresa de tecnologia especializada em desenvolver ferramentas virtuais que facilitam a colaboração, estimulam a inovação e transformam conceitos em realidade.</textarea>
                        </div>
                        <button type="submit" class="btn btn-success">Salvar Configurações</button>
                    </form>
                </div>
            </div>

            <!-- Nova aba: Projetos do Site -->
            <div class="tab-content" id="site-projects-tab">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2>Projetos do Site Principal</h2>
                    <button class="btn" id="addSiteProjectBtn"><i class="fas fa-plus"></i> Adicionar Projeto</button>
                </div>
                <div style="margin-bottom: 20px;">
                    <p>Aqui você pode gerenciar todos os projetos que aparecem na seção "Projetos" e "Serviços" do site principal.</p>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Título</th>
                            <th>Categoria</th>
                            <th>Status</th>
                            <th>Imagens</th>
                            <th>Características</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody id="siteProjectsTable">
                        <!-- Projetos do site serão inseridos aqui via JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="copyright">
                <p>&copy; 2023 Bemorh - Painel Administrativo</p>
            </div>
        </div>
    </footer>

    <script>
        // Sistema de Autenticação COMPARTILHADO
        const adminAuth = {
            password: localStorage.getItem('adminPassword') || "admin123",
            isLoggedIn: localStorage.getItem('adminLoggedIn') === 'true'
        };

        // Sistema de Dados
        let projects = JSON.parse(localStorage.getItem('bemorhProjects')) || [
            { id: 1, name: "Sistema de Gestão de Ideias", client: "InovaCorp", status: "Concluído", deadline: "15/10/2023", budget: "R$ 52.000" },
            { id: 2, name: "IA para Inovação", client: "TechVision", status: "Em Andamento", deadline: "30/11/2023", budget: "R$ 78.000" },
            { id: 3, name: "Plataforma Colaborativa", client: "GlobalConnect", status: "Em Planejamento", deadline: "15/01/2024", budget: "R$ 95.000" },
            { id: 4, name: "Dashboard de Inovação", client: "IdeaLabs", status: "Em Andamento", deadline: "20/12/2023", budget: "R$ 45.000" }
        ];

        let clients = JSON.parse(localStorage.getItem('bemorhClients')) || [
            { id: 1, name: "Carlos Mendes", company: "InovaCorp", email: "carlos@inovacorp.com", phone: "(11) 98888-7777", projects: 1 },
            { id: 2, name: "Ana Silva", company: "TechVision", email: "ana@techvision.com", phone: "(11) 97777-6666", projects: 1 },
            { id: 3, name: "Roberto Lima", company: "GlobalConnect", email: "roberto@globalconnect.com", phone: "(11) 96666-5555", projects: 1 },
            { id: 4, name: "Fernanda Costa", company: "IdeaLabs", email: "fernanda@idealabs.com", phone: "(11) 95555-4444", projects: 1 }
        ];

        let team = JSON.parse(localStorage.getItem('bemorhTeam')) || [
            { id: 1, name: "João Santos", role: "Desenvolvedor Sênior", email: "joao@bemorh.com", phone: "(11) 94444-3333", projects: 3 },
            { id: 2, name: "Maria Oliveira", role: "Designer UX/UI", email: "maria@bemorh.com", phone: "(11) 93333-2222", projects: 2 },
            { id: 3, name: "Pedro Almeida", role: "Gerente de Projetos", email: "pedro@bemorh.com", phone: "(11) 92222-1111", projects: 4 },
            { id: 4, name: "Julia Fernandes", role: "Arquiteta de Soluções", email: "julia@bemorh.com", phone: "(11) 91111-0000", projects: 2 }
        ];

        // Dados dos projetos do site
        let siteProjects = JSON.parse(localStorage.getItem('bemorhSiteProjects')) || [
            { 
                id: 1, 
                title: "Sistema de Gestão de Ideias", 
                description: "Desenvolvimento de uma plataforma completa para gestão e colaboração de ideias inovadoras dentro de empresas.",
                category: "innovation",
                images: [],
                features: ["Colaboração em tempo real", "Dashboard analítico", "Controle de versões"],
                link: "https://inovacorp.com/gestao-ideias",
                status: "active"
            },
            { 
                id: 2, 
                title: "Plataforma E-commerce", 
                description: "Criação de uma loja virtual completa com sistema de pagamentos integrado e gestão de estoque.",
                category: "web",
                images: [],
                features: ["Design responsivo", "Multi-pagamentos", "Relatórios de vendas"],
                link: "https://exemplo.com/ecommerce",
                status: "active"
            },
            { 
                id: 3, 
                title: "App de Gestão Financeira", 
                description: "Aplicativo mobile para controle de finanças pessoais com relatórios gráficos e metas de economia.",
                category: "mobile",
                images: [],
                features: ["Sincronização em nuvem", "Gráficos interativos", "Metas personalizáveis"],
                link: "https://play.google.com/app-finance",
                status: "active"
            }
        ];

        // Elementos do DOM
        const changeLogoModal = document.getElementById('changeLogoModal');
        const manageSiteProjectsModal = document.getElementById('manageSiteProjectsModal');
        const logoSuccess = document.getElementById('logoSuccess');
        const logoError = document.getElementById('logoError');
        const projectSuccess = document.getElementById('projectSuccess');
        const projectError = document.getElementById('projectError');
        const logoFile = document.getElementById('logoFile');
        const logoUrl = document.getElementById('logoUrl');
        const previewImage = document.getElementById('previewImage');
        const noLogoText = document.getElementById('noLogoText');

        // Variáveis para gerenciamento de imagens
        let currentProjectImages = [];

        // Função para tratar erro na logo
        function handleLogoError(element) {
            element.style.display = 'none';
            const logoText = element.nextElementSibling;
            if (logoText && logoText.id === 'logoText') {
                logoText.style.display = 'flex';
            }
        }

        // Verificar se está logado
        if (!adminAuth.isLoggedIn) {
            alert("Você precisa fazer login primeiro!");
            window.location.href = 'index.html';
        }

        // Botão voltar ao site
        document.getElementById('backToSiteBtn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });

        // Logout
        document.getElementById('logoutBtn').addEventListener('click', function() {
            localStorage.removeItem('adminLoggedIn');
            alert("Você saiu do painel administrativo.");
            window.location.href = 'index.html';
        });

        // Abrir modal para alterar logo
        document.getElementById('changeLogoBtn').addEventListener('click', function() {
            changeLogoModal.style.display = 'flex';
            // Atualizar prévia
            updateLogoPreview();
        });

        // Botão para gerenciar projetos do site
        document.getElementById('manageSiteProjectsBtn').addEventListener('click', function() {
            document.querySelector('.admin-tabs .active').classList.remove('active');
            document.querySelector('.tab-content.active').classList.remove('active');
            
            document.querySelector('[data-tab="site-projects-tab"]').classList.add('active');
            document.getElementById('site-projects-tab').classList.add('active');
        });

        // Botão para adicionar projeto do site
        document.getElementById('addSiteProjectBtn').addEventListener('click', function() {
            openProjectModal();
        });

        // Abrir modal de projeto
        function openProjectModal(projectId = null) {
            const modal = document.getElementById('manageSiteProjectsModal');
            const form = document.getElementById('siteProjectForm');
            
            if (projectId) {
                // Modo edição
                const project = siteProjects.find(p => p.id === projectId);
                if (project) {
                    document.getElementById('projectId').value = project.id;
                    document.getElementById('projectTitle').value = project.title;
                    document.getElementById('projectDescription').value = project.description;
                    document.getElementById('projectCategory').value = project.category;
                    document.getElementById('projectFeatures').value = project.features.join(', ');
                    document.getElementById('projectLink').value = project.link || '';
                    document.getElementById('projectStatus').value = project.status;
                    
                    // Carregar imagens
                    currentProjectImages = [...project.images];
                    updateProjectImagesPreview();
                }
            } else {
                // Modo adição
                form.reset();
                document.getElementById('projectId').value = '';
                currentProjectImages = [];
                updateProjectImagesPreview();
            }
            
            modal.style.display = 'flex';
            projectSuccess.style.display = 'none';
            projectError.style.display = 'none';
        }

        // Fechar modal de logo
        document.getElementById('closeLogoModal').addEventListener('click', function() {
            changeLogoModal.style.display = 'none';
            logoSuccess.style.display = 'none';
            logoError.style.display = 'none';
        });

        // Fechar modal de projetos
        document.getElementById('closeManageProjectsModal').addEventListener('click', function() {
            manageSiteProjectsModal.style.display = 'none';
        });

        // Botão cancelar projeto
        document.getElementById('cancelProjectBtn').addEventListener('click', function() {
            manageSiteProjectsModal.style.display = 'none';
        });

        // Fechar modais ao clicar fora
        window.addEventListener('click', function(event) {
            if (event.target === changeLogoModal) {
                changeLogoModal.style.display = 'none';
                logoSuccess.style.display = 'none';
                logoError.style.display = 'none';
            }
            if (event.target === manageSiteProjectsModal) {
                manageSiteProjectsModal.style.display = 'none';
            }
        });

        // Atualizar prévia da logo
        function updateLogoPreview() {
            const currentLogo = localStorage.getItem('bemorhLogo') || 'imagem.png';
            previewImage.src = currentLogo;
            
            previewImage.onerror = function() {
                previewImage.style.display = 'none';
                noLogoText.style.display = 'block';
            };
            
            previewImage.onload = function() {
                previewImage.style.display = 'block';
                noLogoText.style.display = 'none';
            };
        }

        // Preview quando selecionar arquivo da logo
        logoFile.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    previewImage.src = e.target.result;
                    previewImage.style.display = 'block';
                    noLogoText.style.display = 'none';
                };
                reader.readAsDataURL(file);
                logoUrl.value = ''; // Limpar URL se arquivo selecionado
            }
        });

        // Preview quando inserir URL da logo
        logoUrl.addEventListener('input', function() {
            if (logoUrl.value) {
                previewImage.src = logoUrl.value;
                previewImage.style.display = 'block';
                noLogoText.style.display = 'none';
                logoFile.value = ''; // Limpar arquivo se URL inserida
            }
        });

        // Formulário para alterar logo
        document.getElementById('changeLogoForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            let newLogo = '';
            
            // Verificar se foi selecionado arquivo
            if (logoFile.files && logoFile.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    newLogo = e.target.result;
                    saveLogo(newLogo);
                };
                reader.readAsDataURL(logoFile.files[0]);
            }
            // Verificar se foi inserida URL
            else if (logoUrl.value) {
                newLogo = logoUrl.value;
                saveLogo(newLogo);
            }
            else {
                logoError.textContent = "Selecione uma imagem ou insira uma URL!";
                logoError.style.display = 'block';
                return;
            }
        });

        // Função para salvar logo
        function saveLogo(logoData) {
            // Salvar no localStorage
            localStorage.setItem('bemorhLogo', logoData);
            
            // Atualizar todas as logos na página atual
            document.querySelectorAll('.logo-placeholder img').forEach(img => {
                img.src = logoData;
            });
            
            // Atualizar preview
            previewImage.src = logoData;
            
            logoSuccess.style.display = 'block';
            logoError.style.display = 'none';
            
            setTimeout(function() {
                changeLogoModal.style.display = 'none';
                logoSuccess.style.display = 'none';
            }, 2000);
            
            alert("Logo alterada com sucesso! As alterações serão aplicadas em todo o site.");
        }

        // Botão para restaurar logo original
        document.getElementById('resetLogoBtn').addEventListener('click', function() {
            if (confirm("Deseja restaurar a logo original?")) {
                localStorage.removeItem('bemorhLogo');
                updateLogoPreview();
                logoSuccess.textContent = "Logo restaurada para a original!";
                logoSuccess.style.display = 'block';
                
                setTimeout(function() {
                    logoSuccess.style.display = 'none';
                }, 2000);
            }
        });

        // Alternar entre abas administrativas
        document.querySelectorAll('.admin-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const tabId = this.getAttribute('data-tab');
                
                document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                this.classList.add('active');
                document.getElementById(tabId).classList.add('active');
            });
        });

        // Gerenciamento de imagens dos projetos
        document.getElementById('projectImages').addEventListener('change', function(e) {
            const files = e.target.files;
            if (!files || files.length === 0) return;
            
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    currentProjectImages.push(e.target.result);
                    updateProjectImagesPreview();
                };
                
                reader.readAsDataURL(file);
            }
            
            // Limpar o input de arquivo
            this.value = '';
        });

        // Atualizar preview das imagens do projeto
        function updateProjectImagesPreview() {
            const previewContainer = document.getElementById('projectImagesPreview');
            previewContainer.innerHTML = '';
            
            currentProjectImages.forEach((image, index) => {
                const previewDiv = document.createElement('div');
                previewDiv.className = 'image-preview';
                
                previewDiv.innerHTML = `
                    <img src="${image}" alt="Preview ${index + 1}">
                    <button type="button" class="remove-image" onclick="removeProjectImage(${index})">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                
                previewContainer.appendChild(previewDiv);
            });
            
            if (currentProjectImages.length === 0) {
                previewContainer.innerHTML = '<p style="color: var(--gray);">Nenhuma imagem adicionada</p>';
            }
        }

        // Remover imagem do projeto
        window.removeProjectImage = function(index) {
            if (confirm("Remover esta imagem?")) {
                currentProjectImages.splice(index, 1);
                updateProjectImagesPreview();
            }
        };

        // Formulário de projeto do site
        document.getElementById('siteProjectForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const projectId = document.getElementById('projectId').value;
            const title = document.getElementById('projectTitle').value;
            const description = document.getElementById('projectDescription').value;
            const category = document.getElementById('projectCategory').value;
            const features = document.getElementById('projectFeatures').value
                .split(',')
                .map(f => f.trim())
                .filter(f => f.length > 0);
            const link = document.getElementById('projectLink').value;
            const status = document.getElementById('projectStatus').value;
            
            if (!title || !description) {
                projectError.textContent = "Título e descrição são obrigatórios!";
                projectError.style.display = 'block';
                return;
            }
            
            const projectData = {
                id: projectId ? parseInt(projectId) : Date.now(),
                title: title,
                description: description,
                category: category,
                images: [...currentProjectImages],
                features: features,
                link: link,
                status: status
            };
            
            if (projectId) {
                // Atualizar projeto existente
                const index = siteProjects.findIndex(p => p.id === parseInt(projectId));
                if (index !== -1) {
                    siteProjects[index] = projectData;
                }
            } else {
                // Adicionar novo projeto
                siteProjects.push(projectData);
            }
            
            // Salvar no localStorage
            localStorage.setItem('bemorhSiteProjects', JSON.stringify(siteProjects));
            
            // Atualizar tabela
            loadSiteProjects();
            
            projectSuccess.style.display = 'block';
            projectError.style.display = 'none';
            
            setTimeout(function() {
                manageSiteProjectsModal.style.display = 'none';
                projectSuccess.style.display = 'none';
            }, 2000);
        });

        // Funções CRUD para projetos do site
        function editSiteProject(id) {
            openProjectModal(id);
        }

        function deleteSiteProject(id) {
            if (confirm("Tem certeza que deseja excluir este projeto do site?")) {
                siteProjects = siteProjects.filter(p => p.id !== id);
                localStorage.setItem('bemorhSiteProjects', JSON.stringify(siteProjects));
                loadSiteProjects();
                alert("Projeto excluído do site com sucesso!");
            }
        }

        // Carregar projetos do site na tabela
        function loadSiteProjects() {
            const table = document.getElementById('siteProjectsTable');
            table.innerHTML = '';
            
            siteProjects.forEach(project => {
                const row = document.createElement('tr');
                
                // Converter categoria para texto legível
                const categoryText = {
                    'web': 'Web',
                    'mobile': 'Mobile',
                    'design': 'Design',
                    'consulting': 'Consultoria',
                    'innovation': 'Inovação'
                }[project.category] || project.category;
                
                // Status com cor
                const statusColor = project.status === 'active' ? '#2ecc71' : '#95a5a6';
                
                row.innerHTML = `
                    <td>${project.title}</td>
                    <td>${categoryText}</td>
                    <td><span style="background-color: ${statusColor}; color: white; padding: 5px 10px; border-radius: 20px; font-size: 0.8rem;">${project.status === 'active' ? 'Ativo' : 'Inativo'}</span></td>
                    <td>${project.images.length} imagem(s)</td>
                    <td>${project.features.slice(0, 2).join(', ')}${project.features.length > 2 ? '...' : ''}</td>
                    <td class="actions">
                        <button class="action-btn view-btn" onclick="viewSiteProject(${project.id})"><i class="fas fa-eye"></i> Ver</button>
                        <button class="action-btn edit-btn" onclick="editSiteProject(${project.id})"><i class="fas fa-edit"></i> Editar</button>
                        <button class="action-btn delete-btn" onclick="deleteSiteProject(${project.id})"><i class="fas fa-trash"></i> Excluir</button>
                    </td>
                `;
                table.appendChild(row);
            });
        }

        // Visualizar projeto do site
        window.viewSiteProject = function(id) {
            const project = siteProjects.find(p => p.id === id);
            if (project) {
                let imagesInfo = project.images.length > 0 ? 
                    `\nImagens: ${project.images.length} imagem(s) adicionada(s)` : 
                    '\nImagens: Nenhuma imagem';
                
                alert(`Projeto: ${project.title}\nDescrição: ${project.description}\nCategoria: ${project.category}\n${imagesInfo}\nCaracterísticas: ${project.features.join(', ')}\nLink: ${project.link || 'Nenhum'}\nStatus: ${project.status === 'active' ? 'Ativo (visível no site)' : 'Inativo (não visível no site)'}`);
            }
        };

        // Funções CRUD para projetos
        function addProject() {
            const name = prompt("Nome do projeto:");
            if (!name) return;
            
            const client = prompt("Cliente:");
            const status = prompt("Status (Concluído/Em Andamento/Em Planejamento):");
            const deadline = prompt("Prazo (dd/mm/aaaa):");
            const budget = prompt("Orçamento:");
            
            const newProject = {
                id: Date.now(),
                name: name,
                client: client || "Sem cliente",
                status: status || "Em Planejamento",
                deadline: deadline || "Não definido",
                budget: budget || "Não definido"
            };
            
            projects.push(newProject);
            saveProjects();
            loadData();
            alert("Projeto adicionado com sucesso!");
        }

        function editProject(id) {
            const project = projects.find(p => p.id === id);
            if (!project) return;
            
            const newName = prompt("Novo nome do projeto:", project.name);
            if (newName !== null) project.name = newName;
            
            const newClient = prompt("Novo cliente:", project.client);
            if (newClient !== null) project.client = newClient;
            
            const newStatus = prompt("Novo status:", project.status);
            if (newStatus !== null) project.status = newStatus;
            
            const newDeadline = prompt("Novo prazo:", project.deadline);
            if (newDeadline !== null) project.deadline = newDeadline;
            
            const newBudget = prompt("Novo orçamento:", project.budget);
            if (newBudget !== null) project.budget = newBudget;
            
            saveProjects();
            loadData();
            alert("Projeto atualizado com sucesso!");
        }

        function deleteProject(id) {
            if (confirm("Tem certeza que deseja excluir este projeto?")) {
                projects = projects.filter(p => p.id !== id);
                saveProjects();
                loadData();
                alert("Projeto excluído com sucesso!");
            }
        }

        function saveProjects() {
            localStorage.setItem('bemorhProjects', JSON.stringify(projects));
        }

        // Funções CRUD para clientes
        function addClient() {
            const name = prompt("Nome do cliente:");
            if (!name) return;
            
            const company = prompt("Empresa:");
            const email = prompt("Email:");
            const phone = prompt("Telefone:");
            
            const newClient = {
                id: Date.now(),
                name: name,
                company: company || "Sem empresa",
                email: email || "Não informado",
                phone: phone || "Não informado",
                projects: 0
            };
            
            clients.push(newClient);
            saveClients();
            loadData();
            alert("Cliente adicionado com sucesso!");
        }

        function editClient(id) {
            const client = clients.find(c => c.id === id);
            if (!client) return;
            
            const newName = prompt("Novo nome:", client.name);
            if (newName !== null) client.name = newName;
            
            const newCompany = prompt("Nova empresa:", client.company);
            if (newCompany !== null) client.company = newCompany;
            
            const newEmail = prompt("Novo email:", client.email);
            if (newEmail !== null) client.email = newEmail;
            
            const newPhone = prompt("Novo telefone:", client.phone);
            if (newPhone !== null) client.phone = newPhone;
            
            saveClients();
            loadData();
            alert("Cliente atualizado com sucesso!");
        }

        function deleteClient(id) {
            if (confirm("Tem certeza que deseja excluir este cliente?")) {
                clients = clients.filter(c => c.id !== id);
                saveClients();
                loadData();
                alert("Cliente excluído com sucesso!");
            }
        }

        function saveClients() {
            localStorage.setItem('bemorhClients', JSON.stringify(clients));
        }

        // Funções CRUD para equipe
        function addTeamMember() {
            const name = prompt("Nome do membro:");
            if (!name) return;
            
            const role = prompt("Cargo:");
            const email = prompt("Email:");
            const phone = prompt("Telefone:");
            
            const newMember = {
                id: Date.now(),
                name: name,
                role: role || "Não definido",
                email: email || "Não informado",
                phone: phone || "Não informado",
                projects: 0
            };
            
            team.push(newMember);
            saveTeam();
            loadData();
            alert("Membro adicionado com sucesso!");
        }

        function editTeamMember(id) {
            const member = team.find(m => m.id === id);
            if (!member) return;
            
            const newName = prompt("Novo nome:", member.name);
            if (newName !== null) member.name = newName;
            
            const newRole = prompt("Novo cargo:", member.role);
            if (newRole !== null) member.role = newRole;
            
            const newEmail = prompt("Novo email:", member.email);
            if (newEmail !== null) member.email = newEmail;
            
            const newPhone = prompt("Novo telefone:", member.phone);
            if (newPhone !== null) member.phone = newPhone;
            
            saveTeam();
            loadData();
            alert("Membro atualizado com sucesso!");
        }

        function deleteTeamMember(id) {
            if (confirm("Tem certeza que deseja excluir este membro?")) {
                team = team.filter(m => m.id !== id);
                saveTeam();
                loadData();
                alert("Membro excluído com sucesso!");
            }
        }

        function saveTeam() {
            localStorage.setItem('bemorhTeam', JSON.stringify(team));
        }

        // Função para carregar dados nas tabelas
        function loadData() {
            // Atualiza contadores
            document.getElementById('projectCount').textContent = projects.length;
            document.getElementById('clientCount').textContent = clients.length;
            document.getElementById('taskCount').textContent = calculateCompletionRate();
            
            // Carrega projetos
            const projectsTable = document.getElementById('projectsTable');
            projectsTable.innerHTML = '';
            projects.forEach(project => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${project.name}</td>
                    <td>${project.client}</td>
                    <td><span class="project-status" style="background-color: ${getStatusColor(project.status)}; color: white; padding: 5px 10px; border-radius: 20px; font-size: 0.8rem;">${project.status}</span></td>
                    <td>${project.deadline}</td>
                    <td>${project.budget}</td>
                    <td class="actions">
                        <button class="action-btn view-btn" onclick="viewProject(${project.id})"><i class="fas fa-eye"></i> Ver</button>
                        <button class="action-btn edit-btn" onclick="editProject(${project.id})"><i class="fas fa-edit"></i> Editar</button>
                        <button class="action-btn delete-btn" onclick="deleteProject(${project.id})"><i class="fas fa-trash"></i> Excluir</button>
                    </td>
                `;
                projectsTable.appendChild(row);
            });
            
            // Carrega clientes
            const clientsTable = document.getElementById('clientsTable');
            clientsTable.innerHTML = '';
            clients.forEach(client => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${client.name}</td>
                    <td>${client.company}</td>
                    <td>${client.email}</td>
                    <td>${client.phone}</td>
                    <td>${client.projects}</td>
                    <td class="actions">
                        <button class="action-btn view-btn" onclick="viewClient(${client.id})"><i class="fas fa-eye"></i> Ver</button>
                        <button class="action-btn edit-btn" onclick="editClient(${client.id})"><i class="fas fa-edit"></i> Editar</button>
                        <button class="action-btn delete-btn" onclick="deleteClient(${client.id})"><i class="fas fa-trash"></i> Excluir</button>
                    </td>
                `;
                clientsTable.appendChild(row);
            });
            
            // Carrega equipe
            const teamTable = document.getElementById('teamTable');
            teamTable.innerHTML = '';
            team.forEach(member => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${member.name}</td>
                    <td>${member.role}</td>
                    <td>${member.email}</td>
                    <td>${member.phone}</td>
                    <td>${member.projects}</td>
                    <td class="actions">
                        <button class="action-btn view-btn" onclick="viewTeamMember(${member.id})"><i class="fas fa-eye"></i> Ver</button>
                        <button class="action-btn edit-btn" onclick="editTeamMember(${member.id})"><i class="fas fa-edit"></i> Editar</button>
                        <button class="action-btn delete-btn" onclick="deleteTeamMember(${member.id})"><i class="fas fa-trash"></i> Excluir</button>
                    </td>
                `;
                teamTable.appendChild(row);
            });
            
            // Carrega projetos do site
            loadSiteProjects();
        }

        function calculateCompletionRate() {
            if (projects.length === 0) return "0%";
            const completed = projects.filter(p => p.status === "Concluído").length;
            return Math.round((completed / projects.length) * 100) + "%";
        }

        function getStatusColor(status) {
            if (status === 'Concluído') return '#2ecc71';
            if (status === 'Em Andamento') return '#3498db';
            if (status === 'Em Planejamento') return '#f39c12';
            return '#95a5a6';
        }

        // Funções de visualização
        function viewProject(id) {
            const project = projects.find(p => p.id === id);
            if (project) {
                alert(`Projeto: ${project.name}\nCliente: ${project.client}\nStatus: ${project.status}\nPrazo: ${project.deadline}\nOrçamento: ${project.budget}`);
            }
        }

        function viewClient(id) {
            const client = clients.find(c => c.id === id);
            if (client) {
                alert(`Cliente: ${client.name}\nEmpresa: ${client.company}\nEmail: ${client.email}\nTelefone: ${client.phone}\nProjetos: ${client.projects}`);
            }
        }

        function viewTeamMember(id) {
            const member = team.find(m => m.id === id);
            if (member) {
                alert(`Membro: ${member.name}\nCargo: ${member.role}\nEmail: ${member.email}\nTelefone: ${member.phone}\nProjetos: ${member.projects}`);
            }
        }

        // Botões de adicionar
        document.getElementById('addProjectBtn').addEventListener('click', function() {
            addProject();
        });

        document.getElementById('addClientBtn').addEventListener('click', function() {
            addClient();
        });

        document.getElementById('addMemberBtn').addEventListener('click', function() {
            addTeamMember();
        });

        // Configurações da empresa
        document.getElementById('companySettings').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const companyName = document.getElementById('companyName').value;
            const companyTagline = document.getElementById('companyTagline').value;
            const companyEmail = document.getElementById('companyEmail').value;
            const companyPhone = document.getElementById('companyPhone').value;
            const companyAddress = document.getElementById('companyAddress').value;
            const companyAbout = document.getElementById('companyAbout').value;
            
            // Salvar no localStorage
            localStorage.setItem('bemorhCompanyName', companyName);
            localStorage.setItem('bemorhCompanyTagline', companyTagline);
            localStorage.setItem('bemorhCompanyEmail', companyEmail);
            localStorage.setItem('bemorhCompanyPhone', companyPhone);
            localStorage.setItem('bemorhCompanyAddress', companyAddress);
            localStorage.setItem('bemorhCompanyAbout', companyAbout);
            
            alert('Configurações da empresa salvas com sucesso!\nAs alterações serão aplicadas no site principal.');
        });

        // Carregar configurações salvas
        function loadSettings() {
            const savedName = localStorage.getItem('bemorhCompanyName');
            const savedTagline = localStorage.getItem('bemorhCompanyTagline');
            const savedEmail = localStorage.getItem('bemorhCompanyEmail');
            const savedPhone = localStorage.getItem('bemorhCompanyPhone');
            const savedAddress = localStorage.getItem('bemorhCompanyAddress');
            const savedAbout = localStorage.getItem('bemorhCompanyAbout');
            
            if (savedName) {
                document.getElementById('companyName').value = savedName;
                document.querySelectorAll('.logo-main').forEach(el => el.textContent = savedName);
            }
            
            if (savedTagline) {
                document.getElementById('companyTagline').value = savedTagline;
                document.querySelectorAll('.logo-tagline').forEach(el => el.textContent = savedTagline);
            }
            
            if (savedEmail) document.getElementById('companyEmail').value = savedEmail;
            if (savedPhone) document.getElementById('companyPhone').value = savedPhone;
            if (savedAddress) document.getElementById('companyAddress').value = savedAddress;
            if (savedAbout) document.getElementById('companyAbout').value = savedAbout;
        }

        // Carregar logo personalizada
        function loadCustomLogo() {
            const customLogo = localStorage.getItem('bemorhLogo');
            if (customLogo) {
                document.querySelectorAll('.logo-placeholder img').forEach(img => {
                    img.src = customLogo;
                });
            }
        }

        // Inicializar
        document.addEventListener('DOMContentLoaded', function() {
            loadSettings();
            loadCustomLogo();
            loadData();
            updateLogoPreview();
        });
    </script>
</body>
</html>
